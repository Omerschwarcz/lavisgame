<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2299.4">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="he" dir="rtl"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta charset="UTF-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;title&gt;משחק החתונה - LAVI תופס לבבות&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>body, html {</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 100%;</p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 100%;</p>
<p class="p1"><span class="Apple-converted-space">            </span>overflow: hidden;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>#gameCanvas {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: block;</p>
<p class="p1"><span class="Apple-converted-space">            </span>touch-action: none;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>#score {</p>
<p class="p1"><span class="Apple-converted-space">            </span>position: absolute;</p>
<p class="p1"><span class="Apple-converted-space">            </span>top: 10px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>right: 10px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 20px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: white;</p>
<p class="p1"><span class="Apple-converted-space">            </span>text-shadow: 2px 2px 2px black;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;canvas id="gameCanvas"&gt;&lt;/canvas&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="score"&gt;ניקוד: 0&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>const canvas = document.getElementById('gameCanvas');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const ctx = canvas.getContext('2d');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const scoreElement = document.getElementById('score');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>let player, hearts, arrows, score;</p>
<p class="p1"><span class="Apple-converted-space">        </span>let gameWidth, gameHeight;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function resizeGame() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>gameWidth = window.innerWidth;</p>
<p class="p1"><span class="Apple-converted-space">            </span>gameHeight = window.innerHeight;</p>
<p class="p1"><span class="Apple-converted-space">            </span>canvas.width = gameWidth;</p>
<p class="p1"><span class="Apple-converted-space">            </span>canvas.height = gameHeight;</p>
<p class="p1"><span class="Apple-converted-space">            </span>player = { x: gameWidth / 2 - 25, y: gameHeight - 100, width: 50, height: 80 };</p>
<p class="p1"><span class="Apple-converted-space">            </span>hearts = [];</p>
<p class="p1"><span class="Apple-converted-space">            </span>arrows = [];</p>
<p class="p1"><span class="Apple-converted-space">            </span>score = 0;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function drawPlayer() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.fillStyle = 'white';</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.fillRect(player.x, player.y + 30, player.width, player.height - 30);</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.beginPath();</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.arc(player.x + player.width / 2, player.y + 15, 15, 0, Math.PI * 2);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.fill();</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.fillStyle = 'black';</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.font = '12px Arial';</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.textAlign = 'center';</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.fillText('LAVI', player.x + player.width / 2, player.y + 20);</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.beginPath();</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.moveTo(player.x, player.y + 40);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.lineTo(player.x - 10, player.y + 60);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.moveTo(player.x + player.width, player.y + 40);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.lineTo(player.x + player.width + 10, player.y + 60);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.strokeStyle = 'white';</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.stroke();</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.beginPath();</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.moveTo(player.x + 10, player.y + player.height);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.lineTo(player.x + 10, player.y + player.height + 20);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.moveTo(player.x + player.width - 10, player.y + player.height);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.lineTo(player.x + player.width - 10, player.y + player.height + 20);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.stroke();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function drawHeart(x, y) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.fillStyle = 'red';</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.beginPath();</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.moveTo(x, y + 5);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.bezierCurveTo(x, y, x - 5, y, x - 5, y + 5);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.bezierCurveTo(x - 5, y + 10, x, y + 15, x, y + 15);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.bezierCurveTo(x, y + 15, x + 5, y + 10, x + 5, y + 5);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.bezierCurveTo(x + 5, y, x, y, x, y + 5);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.fill();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function drawArrow(x, y) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.fillStyle = 'black';</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.beginPath();</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.moveTo(x, y);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.lineTo(x - 3, y + 10);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.lineTo(x + 3, y + 10);</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.closePath();</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.fill();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateGame() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>ctx.clearRect(0, 0, gameWidth, gameHeight);</p>
<p class="p1"><span class="Apple-converted-space">            </span>drawPlayer();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (Math.random() &lt; 0.03) hearts.push({ x: Math.random() * gameWidth, y: 0 });</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (Math.random() &lt; 0.02) arrows.push({ x: Math.random() * gameWidth, y: 0 });</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>hearts = hearts.filter(heart =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>heart.y += gameHeight / 200;</p>
<p class="p1"><span class="Apple-converted-space">                </span>drawHeart(heart.x, heart.y);</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (heart.y &gt; gameHeight) return false;</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (collision(player, heart)) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>score++;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>scoreElement.textContent = 'ניקוד: ' + score;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>return false;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>return true;</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>arrows = arrows.filter(arrow =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>arrow.y += gameHeight / 150;</p>
<p class="p1"><span class="Apple-converted-space">                </span>drawArrow(arrow.x, arrow.y);</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (arrow.y &gt; gameHeight) return false;</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (collision(player, arrow)) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>alert('המשחק נגמר! הניקוד הסופי שלך: ' + score);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>resizeGame();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>return false;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>return true;</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>requestAnimationFrame(updateGame);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function collision(rect, obj) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>return rect.x &lt; obj.x + 10 &amp;&amp;</p>
<p class="p1"><span class="Apple-converted-space">                   </span>rect.x + rect.width &gt; obj.x &amp;&amp;</p>
<p class="p1"><span class="Apple-converted-space">                   </span>rect.y &lt; obj.y + 10 &amp;&amp;</p>
<p class="p1"><span class="Apple-converted-space">                   </span>rect.y + rect.height &gt; obj.y;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function movePlayer(x) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>player.x = Math.max(0, Math.min(x - player.width / 2, gameWidth - player.width));</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>window.addEventListener('resize', resizeGame);</p>
<p class="p1"><span class="Apple-converted-space">        </span>window.addEventListener('orientationchange', resizeGame);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>canvas.addEventListener('touchmove', function(e) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>e.preventDefault();</p>
<p class="p1"><span class="Apple-converted-space">            </span>movePlayer(e.touches[0].clientX);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}, { passive: false });</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>canvas.addEventListener('mousemove', function(e) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>movePlayer(e.clientX);</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>resizeGame();</p>
<p class="p1"><span class="Apple-converted-space">        </span>updateGame();</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
